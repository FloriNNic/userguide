<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE troubleshooting PUBLIC "-//OASIS//DTD DITA 1.3 Troubleshooting//EN" "troubleshooting.dtd">
<troubleshooting id="Web-Author-caches-the-IP-of-the-License-Server-indefinitely">
  <title>Web Author caches the IP of the License Server indefinitely</title>
  <troublebody>
    <condition id="problem">
      <title>Problem</title>
      <p>License server connection issue In Oxygen Web Author when IP address of License server
        changes</p>
    </condition>
    <troubleSolution>
      <cause id="cause">
        <title>Cause</title>
        <p id="p_fsr_dgk_54b">Below is an example setup detail:</p>
        <p> Oxygen Web Author  is installed on in house Linux server. Tomcat instance has only web
          author and its not shared with any other applications.</p>
        <p>License server is hosted on AWS EC2 Instance.</p>
        <p>EC2 Instance is configured with Load balancer and has DHCP Configuration.</p>
        <p>License server has DNS Setup (oxygen-license-server.<i>example-domain</i>.com). DNS will
          always point to License server name and is auto updated whenever IP of Ec2 changes</p>
        <p>License server DNS (oxygen-license-server.<i>example-domain.</i>com) is used to configure
          license server details in Oxygen Web Author.</p>
        <p>When IP address for EC2 instance changes and new IP was assigned Web author was unable to
          connect to license server. From logs we could see that its trying to connect to using old
          IP address instead of using DNS(oxygen-license-server.<i>example-domain</i>.com).</p>
      </cause>
      <remedy id="solution">
        <title>Solution</title>
        <steps-informal>
          <p>To adjust the TTL for DNS caching in Java, follow these steps:<ul id="ul_j5x_nx3_yyb">
              <li>Open the <codeph>&lt;JAVA_HOME>/lib/security/java.security</codeph> file in a text
                editor.</li>
              <li>Locate the line that starts with <codeph>networkaddress.cache.ttl</codeph>
              </li>
              <li>Change the line to <codeph>networkaddress.cache.ttl=60</codeph>
              </li>
              <li>Save and close the file.</li>
              <li>Restart Web Author for the changes to take effect.</li>
            </ul></p>
        </steps-informal>
      </remedy>
    </troubleSolution>
  </troublebody>
</troubleshooting>
